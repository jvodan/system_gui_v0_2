<% header_html = (engine.icon.blank? || engine.icon.dirty?) ? engine.name : { html: icon_url_text(engine.name, engine.icon.url(:small)) } %>
<%= modal footer_close: true, large: true, header: header_html, id: "engine_#{@engine.name}_report_modal" do %>
  <%= content_tag :div, class: 'dl-horizontal' do %>
    <%= data_list_text 'Name', engine.name %>
    <%= data_list_text 'Image', engine.core_engine.image %>
    <hr>
    <%= data_list_text 'Memory', "#{engine.core_engine.memory} MB" %>
    <%= data_list_text 'Stats', report_stats(engine.core_engine.stats) %>
    <hr>
    <%= report_network_metrics engine.core_engine.network_metrics %>
    <hr>
    <%= report_memory_statistics engine.core_engine.memory_statistics %>
    <hr>
    <%= data_list_text 'HTTP protocol', engine.core_engine.http_protocol %>
    <%= data_list_text 'Host name', engine.core_engine.host_name %>
    <%= data_list_text 'Domain name', engine.core_engine.domain_name %>
    <%= data_list_text 'port', engine.core_engine.port %>
    <%= data_list_array 'External ports', engine.core_engine.external_ports %>
    <hr>
    <%= data_list_text 'State', engine.core_engine.state %>
    <%= data_list_text 'Default', engine.core_engine.default_startup_state %>
    <hr>
    <%= data_list_text 'Active?', engine.core_engine.active? %>
    <%= data_list_text 'Running?', engine.core_engine.is_running? %>
    <%= data_list_text 'Reinstall required?', engine.core_engine.reinstall_required? %>
    <%= data_list_text 'Restart required?', engine.core_engine.restart_required? %>
    <%= data_list_text 'Is error?', engine.core_engine.is_error? %>
    <%= data_list_text 'Has container?', engine.core_engine.has_container? %>
    <hr>
    <%= data_list_text 'Deployment type', engine.core_engine.deployment_type %>
    <%= data_list_text 'Container type', engine.core_engine.container_type %>
    <hr>
    <%= data_list_text 'Framework', engine.core_engine.framework %>
    <%= data_list_text 'Runtime', engine.core_engine.runtime %>
    <%= data_list_text 'Repository', engine.core_engine.repository %>
    <hr>
    <%= report_ps_container_table engine.core_engine.ps_container %>
    <hr>
    <%= report_collapse_data 'Last error', engine.core_engine.last_error %>
    <%= report_collapse_data 'Last result', engine.core_engine.last_result %>
    <%= report_collapse_data 'Container log', engine.core_engine.logs_container %>
    <%= report_collapse_data 'Environment variables', engine.core_engine.environments.map(&:inspect) %>
    <%= report_collapse_data 'Volumes', engine.core_engine.volumes_hash %>
    <%= report_collapse_data 'Blueprint', engine.core_engine.blueprint %>
    <%= report_collapse_data 'Installation report', engine.core_engine.installation_report %>
    <%= report_collapse_data 'Service connections', engine.core_engine.attached_services %>
    <%= report_collapse_data 'Available services', engine.core_engine.available_services %>
  <% end %>
<% end %>
